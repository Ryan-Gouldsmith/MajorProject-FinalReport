\chapter{Evaluation}

%Examiners expect to find in your dissertation a section addressing such questions as:

%\begin{itemize}
%   \item Were the requirements correctly identified?
%   \item Were the design decisions correct?
%   \item Could a more suitable set of tools have been chosen?
%   \item How well did the software meet the needs of those who were expecting to use it?
%   \item How well were any other project aims achieved?
%   \item If you were starting again, what would you do differently?
%\end{itemize}

%Such material is regarded as an important part of the dissertation; it should demonstrate that you are capable not only of carrying out a piece of work but also of thinking critically about how you did it and how you might have done it better. This is seen as an important part of an honours degree.

%There will be good things and room for improvement with any project. As you write this section, identify and discuss the parts of the work that went well and also consider ways in which the work could be improved.

%Review the discussion on the Evaluation section from the lectures. A recording is available on Blackboard.

This chapter will evaluate how well the project as a whole has gone. It will look at different issues relating from correctly identified requirements, design decisions, what was good about the project and areas which could be improved.

\section{Correctly identified requirements}
To recap, the following requirements and objectives were identified at the beginning of the project:
\begin{enumerate}
	\item Investigate how to extract handwriting text from an image - this will involve looking into ways OCR tools can interpret handwriting.
	\item Train the OCR to recognise text of the author's handwriting.
	\item Produce a set of a rules which a note must comply to.
	\item Produce a web application to form the core part of the product. This includes allowing a user to upload an image, display the image. Add appropriate tagging to a note such as module code.
	\item The user must be able to search for a given module code, showing the fill list of notes based on the module code entered.
	\item The backend of the application must conduct basic OCR recognition, analysing the first 3 lines of the notes.
	\item The backend must integrate with a calendar to archive the notes away later to be found again.
\end{enumerate}

The aforementioned requirements were part of the core system requirements; these were classified as the minimum functionality of the application. Personally these targets, which was partly self-imposed, was extremely challenging. Due to the size of the project, with lots of different components, work was produced at a steady rate over the sprints.

Investigation and research work was extensively conducted to identify how handwriting can be extracted from an image. This was important in aiming to optimisie the performance from the Tesseract engine. This was achieved through the binarisation of the image.

After twelve different training examples, created from handwritten notes, the Tesseract engine was not yielding any greater of a success. Therefore it can be concluded that a sufficient job has been achieved with the handwriting training. One of the most disheartening experiences was when characters could not be identified by the Tesseract engine, during the training phase. Nevertheless, Tesseract has reached a return rate on characters which can not be improved.

With the web application being the core part of the problem, then a lot of effort was centered in on ensuring the correct functionality was added, with the finished product showing the diligent effort constructed on the application. A user can upload an image to the application and tag all associated meta-data, including the title, module code, date, and location.

The application has an intuitive interface allowing the user to navigate around the web application easily. Implementation support has been added so the user does not have to concern themselves over case-sensitivity during the use of the application, creating a better user-experience.

One of the more impressing features of the application is the handwriting recognition integration. It parses the first three lines of text from the image, displaying the content to the user easily. This was built on-top of the work already implemented in the project with the handwriting recognition, allowing it to be incorporated into the application to complete the archiving tool.

Finally, from the original requirements the calendar integration was successfully implemented; it was in retrospect one of the more challenging tasks to overcome. Ranging from the testing the services to implementing reoccurring events, Google calendar always threw up a lot of issues. The reoccurring events and all day events were particularly challenges specifically down to all the possible use-cases. It can list all events in the last 7 days, find specific events by day and is able to find reoccurring events. On-top of this is can add to an event description and remove a specific string from the description field.

Overall, the application produced meets all the core requirements and some additional features such as clicking the suggested data. The application has been well tested, mainly from a strong testing infrastructure offering a range of unit, acceptance and route tests. There have been complex design decisions to ensure that the design of the application is as simple as possible. Overall, the application has been completed to a good standard.

\section{Design decisions}
Reflecting on the design decisions which were evaluated in section x. The use of the MVC framework structure was extremely beneficial. It encouraged that the code was decoupled at all times, leaving the system extremely modular.

The overall database diagram is well designed, and each of the relations is correctly identified and justified. One aspect which would be nice to change would be the note relation, so that the image path was represented in its own relation.

In the binarisation class a couple of the methods could be static due to not interacting with the classes properties.

Overall, the design of the classes show a good level of understanding regarding the object oriented paradigm. The use of helpers and service objects help to extend the system, reducing the amount of duplicated code, whilst semantically collating similarly related code together.

Although not strictly related to the core design of the system, but it was wished that the PEP8 \cite{citeulike:1402014} standard was followed and implemented as the application was being developed. Due to an inexperience using Python, this was not realised until later on in the project - this resulted in a larger refactor; this should have been used from the beginning.

\section{Use of tools}
This section will evaluate the key tools used in the application and justify whether they were the right or wrong tools.
\subsection{Flask}
During the project there were times in which there were feelings that the  Flask, the micro-framework,  was the wrong design decision. There was a lack of documentation and out-the-box support made even the most basic of functionality difficult and unnecessarily complex. For example the configuration file documentation for multiple configuration files was very poor and by default no support was given.

Another example is default security concerns. As stressed the importance of in \textit{Internet based applications} cross-site request forgery (CSRF) is a big issue among Internet security. By default Flask does not support CSRF checking. An additional 3rd party library, SeaSurf, had to be installed to handle the basic functionality of this.

That said, Flask did offer a great deal of flexibility regarding the project. Directories were customisable, and the use of blueprints, and routing, enabled the MVC design pattern to be utilised. It would have been nice to see the framework giving support for multiple configurations.

\subsection{OpenCV}
The choice of using OpenCV compared to ImageMagick proved to be an extremely important design change. This helped the Tesseract training to increase substantially, without the use of OpenCV it could be argued that the Tesseract training would never have gotten off the ground. The research conducted into looking into different binarisation techniques was imperative; there could have been a long chase going down the greyscale image route, trying to train the data and not getting anywhere.

\subsection{PostgreSQL}
The use of PostgreSQL was overall a good choice. Potentially all the decisions regarding using that over MySQL were not fully met, retrospectively analysing the decision.  However, the decision to use that over SQLlite, especially as more than one person would interact with the application was a correct design choice.

In the end the choice between PostgreSQL and MySQL would not have mattered a great deal for the application at its current stage, as both would be suitable and interchangeable.

\subsection{Tesseract}
Tesseract itself has been a great tool during the creation of the product. The training process was a little tedious but the tool would not be swapped out for another form of OCR tool. Since Tesseract gave around a 75\% success rate, that was still rather high for an OCR.

\subsection{Google calendar}
Although Google Calendar exposed a lot of complexities along the way, the choice was a good decision in the end. After analysing the calendars choosing the most popular one appealed to more of the market. Furthermore, the support from Google was beneficial as information regarding API calls could easily be found.

\subsection{Continuous integration tool}
Travis was a superb tool used throughout the development of the application. It was imperative with catching testing errors in an isolated environment. The only disadvantage is that the build times are \textit{slow}. Having to compile OpenCV and Tesseract from source every time a push is committed meant that build times were around 25 minutes. This was far too long, but until the repositories are updated to the correct version this will be the same build time.


\section{Meeting the users needs}
One of the key premises that the application was worthwhile was that the user would need to digitise their notes easily. However, from the analysis given back from the user testing it seems as though that selection of users did not find the application useful for their note-taking style.

Primarily, this was due to people taking notes in different ways. They often prefer to write up their notes. One way in which this could be overcome would be to provide a WYSIWYG editor, so the user can have full control over what is entered into the note application.

So technically, the application did not meet the use-case of the users wholly. Certain aspects of the application would have to be developed further, to ensure that the users needs were fully met.

\section{Additional project aims}
Due to the nature of the project, all the features and functionality could not be implemented into one project spanning just 15 weeks. Due to this a few requirements were cut back from the initial specification, some of which are critical for improving the system.

\subsection{Auto-correcting of image}
A big problem with the handwriting recognition is that the image has to be correctly rotated to 90 \textdegree, and cropped sufficiently. This would have been a nice feature to look to implement, but due to the time constraints this was not plausible. Sadly, the resultant of not including this will impact the user-experience, as it would have to be cropped prior to uploading.

On reflection this would have been preferable and should have been a higher priority in the backlog. However, issues arose with the calendar taking longer than expected, resulting in being unable to start this task.

\subsection{Extracting images}
Extracting images would have been the next logical step for the application to be developed. This would mean that the notes would have to have a massive restructure with the way it parses text. However, been able to select any image in a note and then change the size on a canvas would have been a great feature to implement.

\subsection{Generic handwriting recognition}
A core acknowledgement of the limitation that the system holds is that the handwriting recognition only works for the author's handwriting. To overcome this, it would have been preferable to develop a tool to dynamically train the user's handwriting in the application.

From Figure \ref{fig:graph} it shows that all that would be needed would be three training examples to help the user to have a good recognition rate. The improvement by making it more generic would result in the application been accessible for a wide range of users.

In conjunction with this, extending the popular words list that Tesseract has would have been a nice way to get a domain specific set of text on a note. For example, if the user had three notes of CS31310, then it would add that module code to the popular words lists, making it more likely to find it again.

\section{Evaluating the process}
The process followed on this application has been done with diligence and precision. The Scrum approach has been fully adopted and has aided significantly in the design, development and testing. The weekly sprints helped to decompose the tasks that were at hand, enforcing that the tasks for that sprint was the main priority. What was most useful was the burndown charts every sprint, this helped to analyse exactly what went wrong, or right, on specific days - as well as providing an easy way to view the velocity.

The retrospectives were valuable in ensuring that the process could always looked to be improved upon.

What was most valuable though was the use of TDD. The system has been fully tested and there are a wide range of tests which show a great precision in an attempt to develop a good bit of software. There were frustrating times, as described in the testing section, but overall the approach of TDD was one of the better decisions.

Overall, the process was stuck to thoroughly and meticulously even when the times were tough. In the end the process aided with many aspects of the design and keeping the implementation simple. Therefore, Scrum was deservedly the right process to use.

\section{Starting again}
Although this project has been completed to a high standard, there are a few aspects which would be changed if this was to be started again.

When considering the use of the database management systems, a stronger analysis should have been considered when making the decision when choosing between MySQL and NoSQL. A version of a NoSQL system would have been implemented instead of a relational model, in the hind-sight of the application. This would allow the application to become a generic note-taking application which is not constrained to pure lecture notes for students.

Whilst training the handwriting data it would be imperative to keep a record of how well the training is doing as it was being performed. This iterative approach at creating a graph would have identified earlier where the training had stagnated so further examples did not have to be trained.

In-light of the Flask application potentially being the wrong framework for the solution, another framework has been considered. Still adopting the MVC structure, Django should have been considered more comprehensively during the design phase. Although it is larger, the complexity of the application grew and further out of the box support was needed.

\section{Relevance to degree scheme}
The author's degree scheme is \textit{Computer Science}. The project has shown a full range of capabilities which satisfy that this project has enhanced and furthered knowledge relating to the subject of Computer Science, as well as enhancing skills already learnt throughout the duration of the author's degree.

The project incorporates many different engineering aspects:
\begin{itemize}
	\item It is developed in an agile methodology process, enforcing good software engineering practices throughout the entire project.
	\item Design patterns were considered and used throughout the project, predominantly MVC.
	\item Research work to identify how to binarise a script using computer vision techniques.
	\item Programming was conducted to implement a fully functioning web application, following a code re-usability ethos.
	\item Evaluations and experiments conducted to analyse the accuracy of successful characters identified by an OCR engine.
\end{itemize}

Overall, there are many aspects of this project which encompass the field of computer science from the research elements, to the analysis  and right down to the process followed.

\section{Overall conclusions}
Although alternative implementations and design decisions could have been made it should not be deterred from the application that has been produced.


An application which allows a user to upload their note, tag it with identified meta-data which has been extracted from the user's handwriting and then integrate with this in the calendar is a substantial application. Comprehensive research work was conducted to analyse how Tesseract could have been optimised, and a binarisation script, which works on a variety of images.

This has been conducted with a solid process backing the design, testing and implementation iterative process to show a high quality engineered project.

After substantial work has been completed on this application, the author is delighted with the outcome and believes that the application can be further enhanced with additional features aforementioned, to make it a solid use-case for helping students with their University lecture notes.
